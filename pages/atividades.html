<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atividades para Sala de Aula - Sankofa</title>
    <meta name="description" content="Atividades práticas para aplicação em sala de aula dos conceitos decoloniais">
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="../img/icoNumeEtiqueta.ico" type="image/x-icon">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../style/style.css" type="text/css" media="screen">
    
    <!-- Bibliotecas de Animação -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <!-- Header será carregado dinamicamente -->
    <div id="header-container"></div>

    <!-- Seção principal das atividades -->
    <main class="atividades-main">
        <!-- Loading inicial -->
        <div id="loading" class="loading-container">
            <div class="loading-spinner"></div>
            <p>Carregando atividades para sala de aula...</p>
        </div>

        <!-- Container principal -->
        <div class="container">
            <!-- Breadcrumb de navegação -->
            <nav class="breadcrumb" id="breadcrumb-nav" style="display: none;">
                <!-- Breadcrumb será gerado dinamicamente -->
            </nav>

            <!-- Seção de atividades -->
            <section id="atividades-section" class="atividades-section" style="display: none;">

                <!-- Filtros das atividades -->
                <div class="atividades-filters" id="atividades-filters" style="display: none;">
                    <div class="filter-group">
                        <label for="filter-tipo">Filtrar por tipo:</label>
                        <select id="filter-tipo" class="filter-select" onchange="filtrarAtividades()">
                            <option value="">Todos os tipos</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter-duracao">Duração:</label>
                        <select id="filter-duracao" class="filter-select" onchange="filtrarAtividades()">
                            <option value="">Qualquer duração</option>
                            <option value="curta">Até 30 minutos</option>
                            <option value="media">30-60 minutos</option>
                            <option value="longa">Mais de 60 minutos</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <button class="btn btn-outline" onclick="limparFiltros()">
                            🔄 Limpar Filtros
                        </button>
                    </div>
                </div>

                <!-- Contador de atividades -->
                <div class="atividades-counter" id="atividades-counter" style="display: none;">
                    <span id="counter-text">0 atividades encontradas</span>
                </div>

                <!-- Grid de atividades -->
                <div id="atividades-grid" class="atividades-grid">
                    <!-- Atividades serão inseridas aqui dinamicamente -->
                </div>

                <!-- Mensagem quando não há atividades -->
                <div id="no-atividades" class="no-results" style="display: none;">
                    <div class="no-results-icon">🔍</div>
                    <h3>Nenhuma atividade encontrada</h3>
                    <p>Tente ajustar os filtros para encontrar atividades relevantes.</p>
                    <button class="btn btn-secondary" onclick="limparFiltros()">
                        🔄 Mostrar Todas as Atividades
                    </button>
                </div>

                <!-- Ações das atividades -->
                <div class="atividades-actions" id="atividades-actions" style="display: none;">
                    <button class="btn btn-secondary" onclick="voltarParaConceito()">
                        ← Voltar para o Conceito
                    </button>
                    <button class="btn btn-outline" onclick="exportarAtividades()">
                        📄 Exportar Lista de Atividades
                    </button>
                </div>
            </section>

            <!-- Seção de erro -->
            <section id="erro-atividades" class="erro-section" style="display: none;">
                <div class="erro-container">
                    <div class="erro-icon">⚠️</div>
                    <h2>Ops! Algo deu errado</h2>
                    <p>Não foi possível carregar as atividades para sala de aula.</p>
                    <button class="btn btn-primary" onclick="location.reload()">
                        🔄 Tentar Novamente
                    </button>
                    <button class="btn btn-secondary" onclick="voltarParaConceito()">
                        ← Voltar para o Conceito
                    </button>
                </div>
            </section>
        </div>
    </main>

    <!-- Modal de detalhes da atividade -->
    <div id="modal-atividade" class="modal-overlay" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="modal-atividade-titulo">Detalhes da Atividade</h3>
                <button class="modal-close" onclick="fecharModalAtividade()">&times;</button>
            </div>
            <div class="modal-body" id="modal-atividade-body">
                <!-- Conteúdo será inserido dinamicamente -->
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="fecharModalAtividade()">
                    Fechar
                </button>
                <button class="btn btn-primary" id="btn-marcar-favorita" onclick="marcarComoFavorita()">
                    ⭐ Marcar como Favorita
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de exportação -->
    <div id="modal-exportar" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>📄 Exportar Atividades</h3>
                <button class="modal-close" onclick="fecharModalExportar()">&times;</button>
            </div>
            <div class="modal-body">
                <p>Escolha o formato para exportar a lista de atividades:</p>
                <div class="export-options">
                    <button class="btn btn-outline export-option" onclick="exportarPDF()">
                        📄 Exportar como PDF
                    </button>
                    <button class="btn btn-outline export-option" onclick="exportarTexto()">
                        📝 Exportar como Texto
                    </button>
                    <button class="btn btn-outline export-option" onclick="exportarJSON()">
                        💾 Exportar dados (JSON)
                    </button>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="fecharModalExportar()">
                    Cancelar
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="../js/components.js"></script>
    <script src="../js/atividades.js"></script>

    <script>
        // Inicializar AOS
        AOS.init({
            duration: 800,
            easing: 'ease-out-cubic',
            once: true,
            offset: 100,
            disable: window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)').matches : false
        });

        // Carregar componentes e atividades
        $(document).ready(function() {
            // Carregar atividades baseado no parâmetro da URL após header estar pronto
            carregarAtividadesPorParametro();   
        });
    </script>
</body>
</html>
